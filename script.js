// ===== Полный массив карт Таро =====
window.cards = [
    // Кубки
    { name: "Ace of Cups", image: "cards/cups/ace_cups.jpeg", meanings: { general: "Новый эмоциональный старт" } },
    { name: "Two of Cups", image: "cards/cups/two_cups.jpeg", meanings: { general: "Партнёрство, гармония" } },
    { name: "Three of Cups", image: "cards/cups/three_cups.jpeg", meanings: { general: "Праздник, друзья" } },
    { name: "Four of Cups", image: "cards/cups/four_cups.jpeg", meanings: { general: "Размышления, скука" } },
    { name: "Five of Cups", image: "cards/cups/five_cups.jpeg", meanings: { general: "Потеря, сожаление" } },
    { name: "Six of Cups", image: "cards/cups/six_cups.jpeg", meanings: { general: "Воспоминания, детство" } },
    { name: "Seven of Cups", image: "cards/cups/seven_cups.jpeg", meanings: { general: "Выбор, иллюзии" } },
    { name: "Eight of Cups", image: "cards/cups/eight_cups.jpeg", meanings: { general: "Отпускание, движение дальше" } },
    { name: "Nine of Cups", image: "cards/cups/nine_cups.jpeg", meanings: { general: "Желания сбываются" } },
    { name: "Ten of Cups", image: "cards/cups/ten_cups.jpeg", meanings: { general: "Семейное счастье" } },
    { name: "Page of Cups", image: "cards/cups/page_cups.jpeg", meanings: { general: "Новое сообщение, вдохновение" } },
    { name: "Knight of Cups", image: "cards/cups/khight_cups.jpeg", meanings: { general: "Романтика, предложение" } },
    { name: "Queen of Cups", image: "cards/cups/queen_cups.jpeg", meanings: { general: "Эмоциональная поддержка" } },
    { name: "King of Cups", image: "cards/cups/king_cups.jpeg", meanings: { general: "Мудрый и добрый лидер" } },

    // Мечи
    { name: "Ace of Swords", image: "cards/swords/ace_swords.jpeg", meanings: { general: "Новая идея, ясность" } },
    { name: "Two of Swords", image: "cards/swords/two_swords.jpeg", meanings: { general: "Выбор, сомнения" } },
    { name: "Three of Swords", image: "cards/swords/three_swords.jpeg", meanings: { general: "Разочарование, боль" } },
    { name: "Four of Swords", image: "cards/swords/four_swords.jpeg", meanings: { general: "Отдых, восстановление" } },
    { name: "Five of Swords", image: "cards/swords/five_swords.jpeg", meanings: { general: "Конфликт, поражение" } },
    { name: "Six of Swords", image: "cards/swords/six_swords.jpeg", meanings: { general: "Переход, движение вперёд" } },
    { name: "Seven of Swords", image: "cards/swords/seven_swords.jpeg", meanings: { general: "Хитрость, осторожность" } },
    { name: "Eight of Swords", image: "cards/swords/eight_swords.jpeg", meanings: { general: "Ограничения, страх" } },
    { name: "Nine of Swords", image: "cards/swords/nine_swords.jpeg", meanings: { general: "Беспокойство, тревога" } },
    { name: "Ten of Swords", image: "cards/swords/ten_swords.jpeg", meanings: { general: "Крах, конец" } },
    { name: "Page of Swords", image: "cards/swords/page_swords.jpeg", meanings: { general: "Новое понимание, любопытство" } },
    { name: "Knight of Swords", image: "cards/swords/knight_swords.jpeg", meanings: { general: "Быстрые действия, решительность" } },
    { name: "Queen of Swords", image: "cards/swords/queen_swords.jpeg", meanings: { general: "Интеллект, честность" } },
    { name: "King of Swords", image: "cards/swords/king_swords.jpeg", meanings: { general: "Логика, авторитет" } },

    // Жезлы
    { name: "Ace of Wands", image: "cards/wands/ace_wands.jpeg", meanings: { general: "Новые начинания, энергия" } },
    { name: "Two of Wands", image: "cards/wands/two_wands.jpeg", meanings: { general: "Планирование, перспектива" } },
    { name: "Three of Wands", image: "cards/wands/three_wands.jpeg", meanings: { general: "Расширение, рост" } },
    { name: "Four of Wands", image: "cards/wands/four_wands.jpeg", meanings: { general: "Праздник, стабильность" } },
    { name: "Five of Wands", image: "cards/wands/five_wands.jpeg", meanings: { general: "Конфликт, конкуренция" } },
    { name: "Six of Wands", image: "cards/wands/six_wands.jpeg", meanings: { general: "Победа, признание" } },
    { name: "Seven of Wands", image: "cards/wands/seven_wands.jpeg", meanings: { general: "Защита, отстаивание позиции" } },
    { name: "Eight of Wands", image: "cards/wands/eight_wands.jpeg", meanings: { general: "Движение, скорость" } },
    { name: "Nine of Wands", image: "cards/wands/nine_wands.jpeg", meanings: { general: "Выносливость, защита" } },
    { name: "Ten of Wands", image: "cards/wands/ten_wands.jpeg", meanings: { general: "Тяжесть, нагрузка" } },
    { name: "Page of Wands", image: "cards/wands/page_wands.jpeg", meanings: { general: "Новое предложение, энтузиазм" } },
    { name: "Knight of Wands", image: "cards/wands/knight_wands.jpeg", meanings: { general: "Стремление, авантюра" } },
    { name: "Queen of Wands", image: "cards/wands/queen_wands.jpeg", meanings: { general: "Смелость, харизма" } },
    { name: "King of Wands", image: "cards/wands/king_wands.jpeg", meanings: { general: "Лидерство, страсть" } },

    // Пентакли
    { name: "Ace of Pentacles", image: "cards/pentacles/ace_pentacles.jpeg", meanings: { general: "Новые возможности, богатство" } },
    { name: "Two of Pentacles", image: "cards/pentacles/two_pentacles.jpeg", meanings: { general: "Баланс, адаптация" } },
    { name: "Three of Pentacles", image: "cards/pentacles/three_pentacles.jpeg", meanings: { general: "Сотрудничество, обучение" } },
    { name: "Four of Pentacles", image: "cards/pentacles/four_pentacles.jpeg", meanings: { general: "Сбережения, удержание" } },
    { name: "Five of Pentacles", image: "cards/pentacles/five_pentacles.jpeg", meanings: { general: "Потери, трудности" } },
    { name: "Six of Pentacles", image: "cards/pentacles/six_pentacles.jpeg", meanings: { general: "Помощь, щедрость" } },
    { name: "Seven of Pentacles", image: "cards/pentacles/seven_pentacles.jpeg", meanings: { general: "Оценка, терпение" } },
    { name: "Eight of Pentacles", image: "cards/pentacles/eight_pentacles.jpeg", meanings: { general: "Навыки, работа" } },
    { name: "Nine of Pentacles", image: "cards/pentacles/nine_pentacles.jpeg", meanings: { general: "Успех, самодостаточность" } },
    { name: "Ten of Pentacles", image: "cards/pentacles/ten_pentacles.jpeg", meanings: { general: "Богатство, стабильность" } },
    { name: "Page of Pentacles", image: "cards/pentacles/page_pentacles.jpeg", meanings: { general: "Учение, новое начало" } },
    { name: "Knight of Pentacles", image: "cards/pentacles/knight_pentacles.jpeg", meanings: { general: "Ответственность, стабильность" } },
    { name: "Queen of Pentacles", image: "cards/pentacles/queen_pentacles.jpeg", meanings: { general: "Забота, комфорт" } },
    { name: "King of Pentacles", image: "cards/pentacles/king_pentacles.jpeg", meanings: { general: "Материальный успех" } },

    // ===== Старшие арканы =====
    { name: "Fool", image: "cards/major/fool.jpeg", meanings: { general: "Начало пути, спонтанность" } },
    { name: "Magician", image: "cards/major/magician.jpeg", meanings: { general: "Ресурсы, мастерство" } },
    { name: "High Priestess", image: "cards/major/high_priestess.jpeg", meanings: { general: "Интуиция, тайны" } },
    { name: "Empress", image: "cards/major/empress.jpeg", meanings: { general: "Изобилие, забота" } },
    { name: "Emperor", image: "cards/major/emperor.jpeg", meanings: { general: "Власть, структура" } },
    { name: "Hierophant", image: "cards/major/heirophant.jpeg", meanings: { general: "Учитель, традиции" } },
    { name: "Lovers", image: "cards/major/lovers.jpeg", meanings: { general: "Выбор, любовь" } },
    { name: "Chariot", image: "cards/major/chariot.jpeg", meanings: { general: "Контроль, победа" } },
    { name: "Strength", image: "cards/major/strength.jpeg", meanings: { general: "Сила духа, смелость" } },
    { name: "Hermit", image: "cards/major/hermit.jpeg", meanings: { general: "Размышление, одиночество" } },
    { name: "Wheel of Fortune", image: "cards/major/wheel_of_fortune.jpeg", meanings: { general: "Судьба, изменения" } },
    { name: "Justice", image: "cards/major/justice.jpeg", meanings: { general: "Справедливость, решение" } },
    { name: "Hanged Man", image: "cards/major/hanged_man.jpeg", meanings: { general: "Пауза, осознанность" } },
    { name: "Death", image: "cards/major/death.jpeg", meanings: { general: "Конец, трансформация" } },
    { name: "Temperance", image: "cards/major/temperance.jpeg", meanings: { general: "Баланс, гармония" } },
    { name: "Devil", image: "cards/major/devil.jpeg", meanings: { general: "Привязанности, искушение" } },
    { name: "Tower", image: "cards/major/tower.jpeg", meanings: { general: "Внезапные изменения, кризис" } },
    { name: "Star", image: "cards/major/star.jpeg", meanings: { general: "Надежда, вдохновение" } },
    { name: "Moon", image: "cards/major/moon.jpeg", meanings: { general: "Интуиция, иллюзии" } },
    { name: "Sun", image: "cards/major/sun.jpeg", meanings: { general: "Успех, радость" } },
    { name: "Judgement", image: "cards/major/judgement.jpeg", meanings: { general: "Пробуждение, осознание" } },
    { name: "World", image: "cards/major/world.jpeg", meanings: { general: "Завершение, успех" } }
];
// ================================
//  ЕДИНСТВЕННЫЙ ИСТОЧНИК КАРТ
// ================================
const minorCards = window.cards.filter(c => c.arcana === 'minor');
const majorCards = window.cards.filter(c => c.arcana === 'major');

// ================================
//  СЛУЧАЙНАЯ КАРТА (старшие реже)
// ================================
function getRandomCard() {
  const roll = Math.random();

  // 80% — младшие, 20% — старшие
  if (roll < 0.8) {
    return minorCards[Math.floor(Math.random() * minorCards.length)];
  } else {
    return majorCards[Math.floor(Math.random() * majorCards.length)];
  }
}

function getRandomCards(count) {
  const result = [];
  for (let i = 0; i < count; i++) {
    result.push(getRandomCard());
  }
  return result;
}

// ================================
//  ВЫВОД КАРТ
// ================================
function showCards(cards) {
  const result = document.getElementById('result');
  result.innerHTML = '';

  cards.forEach(card => {
    const cardDiv = document.createElement('div');
    cardDiv.className = 'card';

    const img = document.createElement('img');
    img.src = card.image;
    img.alt = card.name;

    const text = document.createElement('div');
    text.className = 'card-text';
    text.innerHTML = `
      <strong>${card.name}</strong><br>
      ${card.comment || ''}<br><br>
      <em>Общее:</em> ${card.meanings.general}<br>
      <em>Любовь:</em> ${card.meanings.love}<br>
      <em>Работа:</em> ${card.meanings.work}<br>
      <em>Да/Нет:</em> ${card.meanings.yesno}
    `;

    cardDiv.appendChild(img);
    cardDiv.appendChild(text);
    result.appendChild(cardDiv);
  });
}

// ================================
//  КНОПКИ (ТОЛЬКО ТАК)
// ================================
window.drawCard = function () {
  showCards([getRandomCard()]);
};

window.spread = function (count) {
  showCards(getRandomCards(count));
};
